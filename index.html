<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="google-signin-client_id" content="368312908924-tf42tdi9k7gva663qifhi4mjv1mubi59.apps.googleusercontent.com">

        <!-- Styles -->
        <link rel = "icon" href = "img/virus-contact-map-logo.png" type = "image/x-icon"> 
        <link rel="stylesheet" type="text/css" href="css/normal.css"/>
        <link rel='stylesheet' type="text/css" href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css'/>

        <title>Virus Contact Map</title>
    </head>
    <!-- Modals -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Data Check Form</h2>
            </div>
            <div class="modal-body">
                <strong class="modal-title">DISCLOSURE</strong>
                <p>We do not save user information with location data for the sole purpose of keeping information private.</p>
                <!-- Google signin api -->
                <div class="g-signin2" data-onsuccess="onSignIn"></div>
                <!--<a href="#" onclick="signOut();">Sign out</a><br>
                <!-- Load JSON button fields -->
                
                
                <!-- <input class="long-input" type="text" id="json-script"> -->
                <!-- <a href="#" onclick="loadJSON()" class="load-json-button">Load JSON</a> -->
                <br/>
               
                <div><strong>Are you confirmed sick and want to share your data for the sake of others health and well being?</strong>
                    <br>
                    <input type="radio" id="data-consent-yes" name="data-consent" value="yes">
                    <label for="data-consent">Yes</label>
                    <input type="radio" id="data-consent-no" name="data-consent" value="no" checked>
                    <label for="data-no-consent">No</label>
                </div><br>
                <div id="configParams">
                    Radius (in meters) <input id="radius" type="number" value=50 placeholder="Radius in meters"/><br/><br/>
                    Time Difference (in hours) <input id="time" type="number" value=72 placeholder="Time in hours"/>
                </div></br>
                <div id="2FileComment" style="color:red" hidden> Please upload current and previous month's location data</div><br/>
                <form id="uploadForm" method="post" name="uploadForm" enctype="multipart/form-data">
                    <label>Google Maps JSON file location </label>
                    <input type="file" id="file" name="jsonFile" /><br><input type="submit" class="load-json-button" value="Upload" />
                </form> 
            </div>
        </div>  
    </div>
    <body>
        <!-- Title Bar -->
        <section id="title-section">
            <table class="table-full">
                <tr>
                    <td class="span-left-align">
                        <img src="img/virus-contact-map-logo.png" height="100" width="100">
                    </td>
                    <td class="span-center-align">
                        <h1 class="page-title">Virus Contact Map</h1>
                    </td>
                    <td class="span-right-align">
                        <a href="#" id="loginModal-button" class="load-json-button">Check my location data</a>
                        <div id="response-div"></div>
                    </td>
                </tr>
            </table>
        </section>
        <!-- Map Area -->
        <section id="map-section">  
            <div id="map"></div>
        </section>

        <!-- Scripts -->
        <script src="resources/config.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
        <script src="js/google-signin.js"></script>
        <script src="js/page-populations.js"></script>
        <script src="js/map_init.js"></script>
    </body>
</html>