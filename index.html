<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="google-signin-client_id" content="368312908924-tf42tdi9k7gva663qifhi4mjv1mubi59.apps.googleusercontent.com">

        <!-- Styles -->
        <link rel="icon" href="img/virus-contact-map-logo.png" type = "image/x-icon"> 
        <link rel="stylesheet" type="text/css" href="css/normal.css"/>
        <link rel='stylesheet' type="text/css" href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css'/>

        <title>Virus Contact Map</title>
    </head>
    <!-- Modals -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Data Check Form</h2>
            </div>
            <div class="modal-body">
                <strong class="modal-title">DISCLOSURE</strong>
                <p>We do not save user information with location data for the sole purpose of keeping information private.</p>
                
                <!-- Tabs -->
                <section class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-link" onclick="openTab(event, 'countyLevel')" id="defaultTab">County Overlay</button>
                        <button class="tab-link" onclick="openTab(event, 'infectedPlaces')">Trace Contacts</button>
                        <button class="tab-link" onclick="openTab(event, 'saveData')">Contribute Data</button>
                    </div>
                    <div id="countyLevel" class="tab-content">
                        <p>The county overlay is designed to display the users location data overlayed with the counties they've been in. No user data will be saved during this operation.</p>
                    </div>
                    <div id="infectedPlaces" class="tab-content">
                        <p>The trace contacts overlay is designed to display a users location data matched against all infected locations in our database.<br>
                            The result points visible on the map (if any) will be points where you may have came in contact with an infected individual!<br>
                            If no points show up, that's a good thing!</p>
                        <br><div id="configParams">
                            Radius between locations (in meters) <input id="radius" type="number" value="50" min="10" max="120" placeholder="Radius in meters"/><br/><br/>
                            Time Difference (in hours) <input id="time" type="number" value="72" min="1" max="120" placeholder="Time in hours"/>
                        </div><br>
                    </div>
                    <div id="saveData" class="tab-content">
                        <p>Contributing your own data will require you to login below.
                            We will need to confirm your account before the data you submit is added to our database.</p>
                        <!-- Google signin api -->
                        <div class="g-signin2" data-onsuccess="onSignIn"></div>
                        <!--<a href="#" onclick="signOut();">Sign out</a><br>
                        <!-- Load JSON button fields -->
                        <br><div><strong>Are you sure you want to manually upload a users data?</strong><br>
                            <input type="radio" id="data-consent-yes" name="data-consent" value="yes">
                            <label for="data-consent">Yes</label>
                            <input type="radio" id="data-consent-no" name="data-consent" value="no" checked>
                            <label for="data-no-consent">No</label>
                        </div>
                        <div id="2FileComment" style="color:red" hidden> Please upload current and previous month's location data</div><br/>
                        <label>Do you want to upload all addresses found in the location history?</label>
                        <br><input type="radio" id="data-check-yes" name="data-check" value="yes" checked>
                        <label for="data-check">Yes, upload it all!</label>
                        <br><input type="radio" id="data-check-no" name="data-check" value="no">
                        <label for="data-no-check">No, I want to remove some locations!</label>
                        <br><br>
                    </div>
                    <br><hr>
                    <form id="uploadForm" method="post" name="uploadForm" enctype="multipart/form-data">
                        <p>Please upload your Google Maps JSON file location (<a href="https://vwo.com/blog/google-maps-heatmap/" target="_blank">?</a>)</p>
                        <input type="file" id="file" name="jsonFile" />
                        <br><br><input type="submit" class="load-json-button" value="Upload" />
                    </form>
                </section>
            </div>
        </div>
    </div>
    <div id="message-modal" class="message-modal-content">
        <span class="close-footer">&times;</span>
        <div id="modal-footer" class="modal-footer"></div>
    </div>
    <!-- Body Text -->
    <body>
        <div class="page-title">Virus Contact Map</div>
        <!-- Map Area -->
        <section id="map-section">
            <div id="map" class="map"></div>
            <div id="map-slider" class="map-slider top">
                <div class="map-overlay-inner">
                    <h2>View number of cases by county and time</h2>
                    <label class="medium-title" id="map-date"></label>
                    <input id="slider" type="range" min="0" max="88" step="1" value="88" />
                </div>
            </div>
            <div class="map-overlay-color top" id="map-color">
                <div>Number of Cases</div>
                <div id="legend" class="legend">
                    <div class="bar"></div>
                    <div class="left-align">0</div><div id="cases-max" class="right-align"></div>
                    <p class="space"></p>
                </div>
            </div>
            <div id="map-side-interface-button" class="map-side-interface-button" onclick="mapSideToggle()">
                <i class="arrow left-arrow"></i>
            </div>
            <div id="map-side-menu" class="map-side-menu">
                <div class="span-center-align">
                    <img class="icon-logo" src="img/virus-contact-map-logo.png">
                </div>
                <br>
                <div class="span-center-align">
                    <a href="#" id="loginModal-button" class="load-json-button">Check my location data</a>
                </div>
                <br><br><br><br>
                <div class="map-side-menu-title span-center-align">About VCM</div>
                <div class="map-side-menu-content">
                    <p>A Contact Tracing Tool for the COVID-19 Pandemic. <strong class="bolded-text">Version 0.49</strong></p>
                </div>
                <div class="map-side-menu-title span-center-align" style="font-size: 26px;">Credits</div>
                <div class="map-side-menu-content">
                    <p><strong class="bolded-text">Front-end </strong>developed by Zachary Vanscoit, graduate student in the School of Computing at Southern Illinois University, Carbondale.</p>
                    <p><strong class="bolded-text">Back-end </strong>developed by Sai Shanmukha Narumanchi, graduate student in the School of Computing at Southern Illinois University, Carbondale.</p>
                    <p>Subhas K. Ghosh is a Senior Staff Engineer in the Commonwealth Bank of Australia.</p>
                    <p>Koushik Sinha is a faculty in the School of Computing, Southern Illinois University, Carbondale.</p>
                    <br><br><br>
                </div>
            </div>
        </section>

        <!-- Their Scripts -->
        <script src="js/config.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
        <!-- Our Scripts -->
        <script src="js/google-signin.js"></script>
        <script src="js/page-populations.js"></script>
        <script src="js/helper.js"></script>
        <script src="js/map_init.js"></script>
        <!-- Hey, thanks for taking the time to look at the html code -->
    </body>
</html>